import{_ as p,X as e,Y as t,a1 as o,Z as n,$ as s,a2 as c,a0 as l,F as u}from"./framework-68dd73a2.js";const i="/blog/assets/Oracle_60_1.png",k="/blog/assets/Oracle_60_2.png",m={},r={id:"_60-oracle-sql开发-——-约束-md",tabindex:"-1"},d=n("a",{class:"header-anchor",href:"#_60-oracle-sql开发-——-约束-md","aria-hidden":"true"},"#",-1),b={href:"http://xn--prv013c.md",target:"_blank",rel:"noopener noreferrer"},v=l('<h4 id="概念" tabindex="-1"><a class="header-anchor" href="#概念" aria-hidden="true">#</a> 概念</h4><figure><img src="'+i+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>约束及作用 <ul><li>约束： Constraint，是定义在表上的一种强制规 则。</li><li>当为某个表定义约束后，对该表做的所有SQL操作 都必须满足约束的规则要求，否则操作将失败</li></ul></li></ul><figure><img src="'+k+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><p>约束命名规则</p><ul><li>约束也是数据库对象，必须按照命名规则命名， 如果你不命名约束，Oracle服务器将用SYS_Cn格 式产生一个名字，这里n是一个唯一的整数。</li><li>除了NOT NULL约束外，建议给其它约束起名字， 命名规则为：表名_列名_约束类型。</li></ul></li><li><p>约束操作</p><ul><li>定义约束：约束通常在创建表的同时被创建；</li><li>追加约束：在表被创建后，如果有需求也可以临时 添加约束；</li><li>启用及禁用约束：约束可以被临时禁用和启用。</li></ul></li></ul><h4 id="示例代码" tabindex="-1"><a class="header-anchor" href="#示例代码" aria-hidden="true">#</a> 示例代码</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-------------------------------------------------------</span>
<span class="token comment">-- not null(非空约束):不能为null 或者 &#39;&#39;</span>
<span class="token comment">--</span>
<span class="token comment">--     1.约束的列值不能为null</span>
<span class="token comment">--     2.只能定义列级别的约束</span>
<span class="token comment">--     3.可以不用指定约束名称</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>指定ename不能为<span class="token boolean">null</span>
<span class="token comment">--不指定约束名称</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--列级别约束</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;删的快&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">--not ok 无法将null值插入&quot;scott.emp_bak.ename&quot;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 无法将null值插入&quot;scott.emp_bak.ename&quot;</span>

<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">-- unique(唯一约束、唯一键):</span>
<span class="token comment">--</span>
<span class="token comment">--     1.约束的列值必须唯一，但是可以为null</span>
<span class="token comment">--     2.既能定义列级别约束（单列unique约束），也可以定义表级别的约束（多列组合unique约束）</span>
<span class="token comment">--     3.建议指定约束名称</span>
<span class="token comment">--     4.创建唯一约束时，默认给所有约束的列添加索引index,用于优化查询效率，例如：select * from emp_bak where empno=?</span>
<span class="token comment">--     5.一个表可以同时定义多个unique唯一约束</span>
<span class="token comment">--     6.可以给一列或多列定义unique唯一约束</span>
<span class="token comment">--------------------------------------------------------</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>指定empno必须唯一、同时ename必须唯一
<span class="token comment">--不指定约束名称</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>   <span class="token comment">--列级别约束 ,系统命名SYS_C0011805</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span><span class="token comment">--列级别约束,系统命名SYS_C0011806</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;删的快&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;删的快2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 违反唯一约束条件scott.SYS_C0011805</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;删的快2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>

<span class="token comment">--指定约束名称</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_empno_unique <span class="token keyword">unique</span><span class="token punctuation">,</span>   <span class="token comment">--列级别约束 ,自定义命名emp_empno_unique</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_ename_unique <span class="token keyword">unique</span><span class="token punctuation">,</span><span class="token comment">--列级别约束,自定义命名emp_ename_unique</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
       
       <span class="token comment">--表级别约束</span>
       <span class="token comment">--,constraint emp_empno_unique unique(empno),</span>
       <span class="token comment">--constraint emp_ename_unique unique(ename)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 违反唯一约束条件scott.emp_empno_unique</span>

<span class="token comment">--同时给多列定义组合唯一约束</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>指定empno、ename组合唯一
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       
       <span class="token comment">--组合约束，只能定义表级别约束</span>
       <span class="token keyword">constraint</span> emp_empno_ename_unique <span class="token keyword">unique</span><span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 违反唯一约束条件scott.emp_empno_ename_unique</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">-- primary key(主键约束):相当于unique + not null</span>
<span class="token comment">--</span>
<span class="token comment">--     1.约束的列值必须唯一，且不可以为null</span>
<span class="token comment">--     2.既能定义列级别约束（单列PK约束），也可以定义表级别的约束（多列组合PK约束）</span>
<span class="token comment">--     3.建议指定约束名称</span>
<span class="token comment">--     4.创建唯一约束时，默认给所有约束的列添加索引index,用于优化查询效率，例如：select * from emp_bak where empno=?</span>
<span class="token comment">--     5.一个表只能有一个primary key主键约束</span>
<span class="token comment">--     6.可以给一列或多列定义primary key主键约束</span>
<span class="token comment">--------------------------------------------------------</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>指定empno为主键
<span class="token comment">--指定约束名称</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token comment">--constraint emp_empno_pk primary key,   --列级别约束 ,自定义命名emp_empno_pk</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       
       <span class="token comment">--定义表级别约束</span>
       <span class="token keyword">constraint</span> emp_empno_pk <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>empno<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 违反唯一约束条件scott.emp_empno_pk</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok  无法将null值插入&quot;scott.emp_bak.empno&quot;</span>

<span class="token comment">--同时给多列定义组合主键约束</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>指定empno、ename组合为主键
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       
       <span class="token comment">--组合约束，只能定义表级别约束</span>
       <span class="token keyword">constraint</span> emp_empno_ename_pk <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">-- foreign key(外键约束):</span>
<span class="token comment">--</span>
<span class="token comment">--     1.外键列的值必须在引用列值的范围内，或者为null</span>
<span class="token comment">--     2.外键参照的是列必须是主键或者唯一键</span>
<span class="token comment">--     3.主键表主键值被外键表参照时，主键表记录不允许被删除</span>

<span class="token comment">--     4.建议指定约束名称</span>
<span class="token comment">--     5.既能定义列级别约束，也可以定义表级别的约束</span>
<span class="token comment">--     6.一个表可以有多个外键约束</span>
<span class="token comment">--</span>
<span class="token comment">--     级联删除 on delete cascade</span>
<span class="token comment">--     级联清空 on delete set null</span>
<span class="token comment">--------------------------------------------------------</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>指定deptno为外键，参考dept表的deptno主键列
<span class="token comment">--指定约束名称</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">-- constraint emp_deptno_fk references dept(deptno)   --列级别约束 ,自定义命名emp_deptno_fk</span>
       
       <span class="token comment">--定义表级别约束</span>
       <span class="token keyword">constraint</span> emp_deptno_fk <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok 外键值可以为null</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok 参考dept.deptno的值</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- not ok 违反完整性约束条件scott.emp_deptno_fk-未找到父项关键字</span>

<span class="token comment">-- 3.主键表主键值被外键表参照时，主键表记录不允许被删除</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> dept <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">-- not ok 违反完整性约束条件scott.fk_deptno-已找到子记录</span>

<span class="token comment">--级联删除 on delete cascade</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       
       <span class="token comment">--定义表级别约束</span>
       <span class="token keyword">constraint</span> emp_deptno_fk <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">cascade</span> <span class="token comment">--on delete cascade</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张是哪&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> <span class="token keyword">from</span> dept <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">88</span><span class="token punctuation">;</span><span class="token comment">--级联删除：①将部门88的员工全部删除  ② 将部门88删除</span>


<span class="token comment">--级联清空 on delete set null</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       
       <span class="token comment">--定义表级别约束</span>
       <span class="token keyword">constraint</span> emp_deptno_fk <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">set</span> <span class="token boolean">null</span> <span class="token comment">--on delete set null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张是哪&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">,</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> <span class="token keyword">from</span> dept <span class="token keyword">where</span> deptno <span class="token operator">=</span> <span class="token number">88</span><span class="token punctuation">;</span><span class="token comment">--级联清空：①将部门88的员工的部门编号deptno清空  ② 将部门88删除</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">-- check(检查性约束):</span>
<span class="token comment">--</span>
<span class="token comment">--     1.约束的列取值范围,但是可以为null</span>
<span class="token comment">--     2.建议指定约束名称</span>
<span class="token comment">--     3.既能定义列级别约束，也可以定义表级别的约束</span>
<span class="token comment">--     4.一个表可以有多个check键约束</span>
<span class="token comment">--------------------------------------------------------</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>约束sal必须大于等于<span class="token number">3000</span>
<span class="token comment">--比较运算符  &gt;   &gt;=  =  &lt;   &lt;=  &lt;&gt;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_sal_check <span class="token keyword">check</span><span class="token punctuation">(</span>sal <span class="token operator">&gt;=</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">--列级别约束 ,自定义命名emp_sal_check</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
       
       <span class="token comment">--定义表级别约束</span>
       <span class="token comment">--constraint emp_sal_check check(sal &gt;= 3000)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok 可以为null</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">2900</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 违反检查约束条件scott.emp_sal_check</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--特殊比较运算符  in</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>约束job取值必须为开发师、测试师、前端师
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_job_check <span class="token keyword">check</span><span class="token punctuation">(</span>job <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">&#39;开发师&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;测试师&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;前端师&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">--列级别约束 ,自定义命名emp_sal_check</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
       
       <span class="token comment">--定义表级别约束</span>
       <span class="token comment">-- constraint emp_job_check check(job in(&#39;开发师&#39;,&#39;测试师&#39;,&#39;前端师&#39;))</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok 可以为null</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;程序猿&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 违反检查约束条件scott.emp_job_check</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;开发师&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--特殊比较运算符  between...and....</span>
<span class="token number">1.</span>创建表emp_bak<span class="token punctuation">,</span>约束sal取值范围为<span class="token number">3000</span><span class="token operator">-</span><span class="token number">99999</span>之间
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_job_check <span class="token keyword">check</span><span class="token punctuation">(</span>sal <span class="token operator">between</span> <span class="token number">3000</span> <span class="token operator">and</span> <span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">--列级别约束 ,自定义命名emp_sal_check,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
       
       <span class="token comment">--定义表级别约束</span>
       <span class="token comment">-- constraint emp_job_check check(sal between 3000 and 99999)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--测试</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok 可以为null</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">2900</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--not ok 违反检查约束条件scott.emp_sal_check</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp_bak<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1111</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--ok</span>

<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">-- 综合定义五类约束</span>
<span class="token comment">--------------------------------------------------------</span>
<span class="token comment">--列级别约束</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_empno_pk <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span><span class="token comment">--主键约束</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_ename_unique <span class="token keyword">unique</span><span class="token punctuation">,</span><span class="token comment">--唯一约束</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_job_nn <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--非空约束</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_sal_check <span class="token keyword">check</span><span class="token punctuation">(</span>sal <span class="token operator">&gt;=</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">--检查性约束</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_deptno_fk <span class="token keyword">references</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token comment">-- 外键约束</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--表级别约束</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">constraint</span> emp_job_nn <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token comment">--非空约束</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       
       <span class="token keyword">constraint</span> emp_empno_pk <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>empno<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">--主键约束</span>
       <span class="token keyword">constraint</span> emp_ename_unique <span class="token keyword">unique</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">--唯一约束</span>
       <span class="token keyword">constraint</span> emp_sal_check <span class="token keyword">check</span><span class="token punctuation">(</span>sal <span class="token operator">&gt;=</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">--检查性约束</span>
       <span class="token keyword">constraint</span> emp_deptno_fk <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token comment">-- 外键约束</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">--追加约束</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp_bak<span class="token punctuation">(</span>
       empno number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       ename varchar2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       job varchar2<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       mgr number<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
       sal number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       comm number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       deptno number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--追加约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">add</span> <span class="token keyword">constraint</span> emp_empno_pk <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>empno<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--主键约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">add</span> <span class="token keyword">constraint</span> emp_ename_unique <span class="token keyword">unique</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--唯一约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">add</span> <span class="token keyword">constraint</span> emp_sal_check <span class="token keyword">check</span><span class="token punctuation">(</span>sal<span class="token operator">&gt;=</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--检查性约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">add</span> <span class="token keyword">constraint</span> emp_deptno_fk <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--外键约束</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">modify</span> <span class="token punctuation">(</span>job <span class="token keyword">constraint</span> emp_job_nn <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--非空约束</span>

<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">--删除约束</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">drop</span> <span class="token keyword">constraint</span> emp_empno_pk<span class="token punctuation">;</span><span class="token comment">--主键约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">drop</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">;</span>            <span class="token comment">--主键约束</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">drop</span> <span class="token keyword">constraint</span> emp_ename_unique<span class="token punctuation">;</span><span class="token comment">--唯一约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">drop</span> <span class="token keyword">unique</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">--唯一约束</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">drop</span> <span class="token keyword">constraint</span> emp_sal_check<span class="token punctuation">;</span><span class="token comment">--检查性约束</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">drop</span> <span class="token keyword">constraint</span> emp_deptno_fk<span class="token punctuation">;</span><span class="token comment">--外键约束</span>

<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">drop</span> <span class="token keyword">constraint</span> emp_job_nn<span class="token punctuation">;</span><span class="token comment">--非空约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">modify</span> <span class="token punctuation">(</span>job <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">--非空约束</span>

<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">--禁用约束</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">disable</span> <span class="token keyword">constraint</span> emp_empno_pk<span class="token punctuation">;</span><span class="token comment">--禁用主键</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">disable</span> <span class="token keyword">constraint</span> emp_ename_unique<span class="token punctuation">;</span><span class="token comment">--禁用唯一约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">disable</span> <span class="token keyword">constraint</span> emp_sal_check<span class="token punctuation">;</span><span class="token comment">--禁用检查性约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">disable</span> <span class="token keyword">constraint</span> emp_deptno_fk<span class="token punctuation">;</span><span class="token comment">--禁用外键约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">disable</span> <span class="token keyword">constraint</span> emp_job_nn<span class="token punctuation">;</span><span class="token comment">--禁用非空约束</span>

<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">--启用约束</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">enable</span> <span class="token keyword">constraint</span> emp_empno_pk<span class="token punctuation">;</span><span class="token comment">--启用主键</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">enable</span> <span class="token keyword">constraint</span> emp_ename_unique<span class="token punctuation">;</span><span class="token comment">--启用唯一约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">enable</span> <span class="token keyword">constraint</span> emp_sal_check<span class="token punctuation">;</span><span class="token comment">--启用检查性约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">enable</span> <span class="token keyword">constraint</span> emp_deptno_fk<span class="token punctuation">;</span><span class="token comment">--启用外键约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp_bak <span class="token keyword">enable</span> <span class="token keyword">constraint</span> emp_job_nn<span class="token punctuation">;</span><span class="token comment">--启用非空约束</span>

<span class="token comment">-------------------------------------------------------</span>
<span class="token comment">--数据字典  P(primary key) R(foreign key) C(check,not null属于C) U(unique)</span>
<span class="token comment">-------------------------------------------------------</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_constraints<span class="token punctuation">;</span><span class="token comment">--查看当前用户下所有的约束</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_cons_columns<span class="token punctuation">;</span><span class="token comment">--查看约束关联的列信息</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>以上就是我关于 <em>Oracle-SQL开发 —— 约束</em> 知识点的整理与总结的全部内容，希望对你有帮助。。。。。。。</strong></p><hr><h4 id="分割线" tabindex="-1"><a class="header-anchor" href="#分割线" aria-hidden="true">#</a> 分割线</h4><hr><h4 id="扩展知识" tabindex="-1"><a class="header-anchor" href="#扩展知识" aria-hidden="true">#</a> 扩展知识</h4><hr><p>分割线</p><hr><p><strong>博主为咯学编程：父母不同意学编程，现已断绝关系;恋人不同意学编程，现已分手;亲戚不同意学编程，现已断绝来往;老板不同意学编程,现已失业三十年。。。。。。如果此博文有帮到你欢迎打赏，金额不限。。。</strong></p>`,16);function y(w,_){const a=u("ExternalLinkIcon");return e(),t("div",null,[o(" more "),n("h1",r,[d,s(" 60-Oracle-SQL开发 —— "),n("a",b,[s("约束.md"),c(a)])]),v])}const g=p(m,[["render",y],["__file","60-Oracle-SQL开发 —— 约束.html.vue"]]);export{g as default};
